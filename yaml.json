{
    "docker-compose example/cheatsheet": {
        "prefix": "s-doco",
        "body": [
            "#",
            "",
            "",
            "version: \"3.3\"",
            "",
            "",
            "services:",
            "",
            "  database:",
            "    image: postgres",
            "    environment:",
            "      POSTGRES_PASSWORD: postgres",
            "      # PGPORT: 5439",
            "    ports:",
            "      - \"5439:5439\"",
            "    volumes:",
            "      # - type: bind",
            "      #   source: ./data",
            "      #   target: /var/lib/postgresql/data",
            "      - type: volume",
            "        source: data",
            "        target: /var/lib/postgresql/data",
            "    container_name: database",
            "    networks:",
            "      - app-network",
            "",
            "  app:",
            "    build: .",
            "    image: amazing:latest",
            "    # command: python -c 'import time, sys; print(\"started\", file=sys.stderr), time.sleep(3), print(\"stopping\", file=sys.stderr)'",
            "    # command: gunicorn --bind 0.0.0.0:80 --workers 4 --log-level debug --access-logfile - --access-logformat \"%(h)s | %(l)s | %(u)s | %(t)s | %(r)s | %(s)s | %(b)s | %(f)s | %(a)s\" \"attributer:create_app()\"",
            "    command: python -c 'from flask import Flask; Flask(__name__).run()'",
            "    # \"... you cannot scale a service beyond 1 container if you have",
            "    # specified a custom name\"",
            "    # i.e. disables --scale SERVICE=NUM",
            "    container_name: simply-container",
            "    # # \"Use the same values as the docker client --network parameter ...\"",
            "    # # \"The host networking driver only works on Linux hosts\"",
            "    # network_mode: host",
            "    ports:",
            "      - \"5001:5001\"",
            "    volumes:",
            "    # # To equate",
            "    # #   docker exec simply-container ls /App",
            "    # #   to ls .",
            "    #   - type: bind",
            "    #     source: .",
            "    #     target: /App",
            "    # To equate",
            "    #   docker exec simply-container ls /App",
            "    #   to ls /var/lib/docker/volumes/docker-sandbox_some-volume/_data",
            "    # instead",
            "      - type: volume",
            "        source: some-volume",
            "        target: /App",
            "    environment:",
            "      # - FLASK_APP=attributer",
            "      # - FLASK_RUN_HOST=0.0.0.0",
            "      - FLASK_RUN_PORT=5001",
            "      # - LC_ALL=C.UTF-8",
            "      # - LANG=C.UTF-8",
            "    networks:",
            "      - app-network",
            "    depends_on:",
            "      - database",
            "",
            "",
            "volumes:",
            "",
            "  data:",
            "    name: data",
            "    # \"A volume may be created directly outside of compose with `docker",
            "    # volume create` and then referenced inside docker-compose.yml\"",
            "    # with external: true",
            "    external: false",
            "",
            "  some-volume:",
            "    name: some-volume",
            "",
            "",
            "networks:",
            "  app-network:",
            "    name: app-network",
            "",
            "",
            "# docker-compose build",
            "#   -> equivalent to docker image build . --tag amazing:latest",
            "",
            "# docker-compose up [--detach]",
            "#   -> equivalent to",
            "#        docker-compose build",
            "#        + docker run [--detach] \\",
            "#            --name simply-container \\",
            "#            amazing:latest {{command}}",
            "#        + network stuff if not network_mode == \"host\""
        ],
        "description": ""
    }
}